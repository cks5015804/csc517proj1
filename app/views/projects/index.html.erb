<p id="notice"><%= notice %></p>

<% if logged_in? and admin? %>
    <h1>Listing all projects</h1>
<% elsif @projects.nil? or @projects.size == 0 %>
    <h1>You haven't been assigned for any project</h1>
<% else %>
    <h1>Listing your projects</h1>
<% end %>

<table>
  <% if @projects and @projects.size > 0 %>
      <thead>
      <tr>
        <th>Title</th>
        <th colspan="3">Actions</th>
      </tr>
      </thead>

    <% @projects.each do |project| %>
      <tr>
        <td><%= project.title %></td>
        <td><%= link_to 'Show', project %></td>

        <% if logged_in? and admin? %>
            <td><%= link_to 'Edit', edit_project_path(project) %></td>
            <td><%= link_to 'Destroy', project, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>

      </tr>
    <% end %>
  <% end %>
</table>

<% if logged_in? and admin? %>
    <%= link_to 'New Project', new_project_path %>
<% end %>

